public void testReadTruncated() throws Exception {
    byte[] input = new byte[] {
        66, 90, 104, 57, 49, 65, 89, 38, 83, 89,
        41, 37, 73, 81, 104, 57, 49, 65, 89, 38,
        83, 89, 41, 37, 73, 81, 104, 57, 49, 65,
        89, 38, 83, 89, 41, 37, 73, 81, 104, 57,
        49, 65, 89, 38, 83, 89, 41, 37, 73, 81,
        104, 57, 49, 65, 89, 38, 83, 89, 41, 37,
        73, 81, 104, 57, 49, 65, 89, 38, 83, 89,
        41, 37, 73, 81, 104, 57, 49, 65, 89, 38,
        83, 89, 41, 37, 73, 81, 104, 57, 49, 65,
        89, 38, 83, 89, 41, 37, 73, 81, 104, 57,
        49, 65, 89, 38, 83, 89, 41, 37