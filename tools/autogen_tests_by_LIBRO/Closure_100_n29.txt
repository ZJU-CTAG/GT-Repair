public void testClosureCompilerIssue() {
    ClosureCompiler compiler = new ClosureCompiler(new CodeBuilder()
            .add("/** @constructor */")
            .add("function Foo() {")
            .add(" this._bar = null;")
            .add("}")
            .add("")
            .add("/** @this {Foo} */")
            .add("function writeMethodWithAnnotation() {")
            .add(" this._bar = 123;")
            .add("}")
            .add("")
            .add("/** @this {Foo} */")
            .add("function readMethodWithAnnotation() {")
            .add(" return this._bar;")
            .add("}")
            .add("")
            .add("//----")
            .add("")
            .add("function writeMethodWithoutAnnotation() {")
            .add(" this._bar = 123;")
            .add("}")
            .add("")
            .add("function readMethodWithoutAnnotation() {")
            .add(" return this._bar;")
           